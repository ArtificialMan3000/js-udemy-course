!function(e){var t={};function r(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){const o=new(r(1));o.hello(),o.goodbye()},function(e,t,r){"use strict";document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".tabheader__item"),t=document.querySelectorAll(".tabcontent"),r=document.querySelector(".tabheader__items"),o=()=>{t.forEach(e=>{e.classList.add("tabcontent_hide"),e.classList.remove("fade")}),e.forEach(e=>{e.classList.remove("tabheader__item_active")})},a=(r=0)=>{t[r].classList.remove("tabcontent_hide"),t[r].classList.add("fade"),e[r].classList.add("tabheader__item_active")};o(),a(),r.addEventListener("click",t=>{t.target&&t.target.matches(".tabheader__item")&&e.forEach((e,r)=>{e===t.target&&(o(),a(r))})});const n=e=>(e=Number(e))>=0&&e<10?"0"+e:e;((e,t)=>{const r=document.querySelector(e),o=r.querySelector("#days"),a=r.querySelector("#hours"),c=r.querySelector("#minutes"),s=r.querySelector("#seconds"),l=()=>{const e=(e=>{const t=Date.parse(e)-Date.parse(new Date);return{total:t,days:Math.floor(t/864e5),hours:Math.floor(t/36e5%24),minutes:Math.floor(t/6e4%60),seconds:Math.floor(t/1e3%60)}})(t);o.innerHTML=n(e.days),a.innerHTML=n(e.hours),c.innerHTML=n(e.minutes),s.innerHTML=n(e.seconds),e.total<=0&&clearInterval(i)},i=setInterval(l,1e3);l()})(".timer","2021-07-13");const c=document.querySelector(".modal"),s=document.querySelector(".modal__dialog"),l=document.querySelectorAll("[data-modal"),i=()=>{c&&(c.classList.add("modal_opened"),document.body.style.overflowY="hidden",clearInterval(u))},d=()=>{c&&(c.classList.remove("modal_opened"),document.body.style.overflowY="")};l&&l.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),i()})}),c&&s&&c.addEventListener("click",e=>{e.target.closest(".modal__dialog")&&!e.target.hasAttribute("data-close")||d()}),c&&document.addEventListener("keydown",e=>{"Escape"===e.code&&c.classList.contains("modal_opened")&&d()});const u=setTimeout(i,5e4),m=()=>{window.pageYOffset+document.documentElement.clientHeight>=document.documentElement.scrollHeight&&(i(),window.removeEventListener("scroll",m))};window.addEventListener("scroll",m);class h{constructor(e,t,r,o,a,...n){this.imgSrc=e,this.imgAlt=t,this.title=r,this.description=o,this.price=a,this.classes=n,this.defaultClassName="menu__item",this.transfer=27,this.changeToUAH(),this.createCardElem(),this.fillCard()}changeToUAH(){this.price=this.price*this.transfer}createCardElem(){const e=document.createElement("div");0===this.classes.length?e.classList.add(this.defaultClassName):this.classes.forEach(t=>{e.classList.add(t)}),e.innerHTML='<img>\n                <h3 class="menu__item-subtitle"></h3>\n                <div class="menu__item-descr"></div>\n                <div class="menu__item-divider"></div>\n                <div class="menu__item-price">\n                    <div class="menu__item-cost">Цена:</div>\n                    <div class="menu__item-total"><span></span> грн/день</div>\n                </div>',this.cardElem=e}fillCard(){if(!this.cardElem)throw new Error("Карточки меню не существует");{const e=this.cardElem.querySelector("img"),t=this.cardElem.querySelector(".menu__item-subtitle"),r=this.cardElem.querySelector(".menu__item-descr"),o=this.cardElem.querySelector(".menu__item-total > span");e.setAttribute("src",this.imgSrc),e.setAttribute("alt",this.imgAlt),t.textContent=this.title,r.textContent=this.description,o.textContent=this.price}}insertCard(e){if(!this.cardElem)throw new Error("Карточки меню не существует");e.append(this.cardElem)}}const _=document.querySelector(".menu__field > .container"),f=document.createDocumentFragment();(async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Could not fetch ${e}, status ${t.status}`);return await t.json()})("http://localhost:3000/menu").then(e=>{e.forEach(({img:e,altimg:t,title:r,descr:o,price:a})=>{new h(e,t,r,o,a).insertCard(f)}),_.append(f)});const v=document.querySelectorAll("form"),g="img/form/spinner.svg",y="Спасибо! Мы скоро с Вами свяжемся",p="Что-то пошло не так...",S=e=>{const t=document.querySelector(".modal"),r=document.querySelector(".modal__dialog");r.classList.add("hide");const o=document.createElement("div");o.classList.add("modal__dialog"),o.innerHTML=`\n        <div class="modal__content">\n        <div data-close class="modal__close">&times;</div>\n        <div class="modal__title">${e}</div>\n        </div>\n        `,t.append(o),i(),setTimeout(()=>{o.remove(),r.classList.remove("hide"),d()},4e3)},b=e=>{e.addEventListener("submit",t=>{t.preventDefault();const r=document.createElement("img");r.src=g,r.style.cssText="\n                display: block;\n                margin: 0 auto;\n            ",e.insertAdjacentElement("afterend",r);let o=new FormData(e);(async(e,t)=>{const r=await fetch(e,{method:"POST",body:t,headers:{"Content-type":"application/json"}});return await r.json()})("http://localhost:3000/requests",JSON.stringify(Object.fromEntries(o.entries()))).then(e=>{console.log(e),S(y),r.src=""}).catch(()=>{S(p),r.src=""}).finally(()=>{e.reset()})})};v.forEach(e=>{b(e)});const E=document.querySelector(".offer__slider"),q=E?E.querySelector(".offer__slider-counter"):null,L=q?q.querySelector(".offer__slider-prev"):null,w=q?q.querySelector(".offer__slider-next"):null,A=q?q.querySelector("#current"):null,C=q?q.querySelector("#total"):null,x=E?E.querySelector(".offer__slider-wrapper"):null,M=x?x.querySelector(".offer__slider-carousel"):null,T=x?x.querySelectorAll(".offer__slide"):null,j=window.getComputedStyle(x).width,O=e=>{const t=document.createElement("li");return t.classList.add("offer__slider-dot"),t.setAttribute("data-slide",e),t},k=(()=>{const e=document.createElement("ol");e.classList.add("offer__slider-carousel-indicators");const t=document.createDocumentFragment();return T.forEach((e,r)=>{t.append(O(r))}),e.append(t),e})();E.append(k);const N=()=>{T&&T.forEach((e,t)=>{(e=>{if(T&&T[e]&&T[e].removeAttribute("data-active"),k){k.querySelector(`[data-slide="${e}"]`).classList.remove("offer__slider-dot_active")}})(t)})},D=e=>{M.style.transform=`translateX(-${e*parseInt(j)}px)`,N(),(e=>{if(T&&T[e]&&T[e].setAttribute("data-active",!0),k){k.querySelector(`[data-slide="${e}"]`).classList.add("offer__slider-dot_active")}})(e),(e=>{A&&(A.textContent=n(Number(e)+1))})(e)},H=()=>{const e=x.querySelector("[data-active]").dataset.index;return Number(e)};k.addEventListener("click",e=>{const t=e.target.closest(".offer__slider-dot");t&&D(t.dataset.slide)}),L.addEventListener("click",()=>{(e=>{let t=Number(e)-1;t<0&&(t=T.length-1),D(t)})(H())}),w.addEventListener("click",()=>{(e=>{let t=Number(e)+1;t>=T.length&&(t=0),D(t)})(H())}),M.style.width=100*T.length+"%",T.forEach(e=>{e.style.width=j}),T&&T.forEach((e,t)=>{e.setAttribute("data-index",t)}),C.textContent=n(T.length),D(0);const I=document.querySelector(".calculating__field"),P=I.querySelector("#gender"),$=I.querySelector("#constitution"),F=I.querySelector("#activity"),Y=I.querySelector(".calculating__result > span"),U={low:1.2,small:1.375,medium:1.55,high:1.725},J=()=>{const e={gender:P.querySelector("[data-active]").dataset.gender,weight:Number($.querySelector("#weight").value),height:Number($.querySelector("#height").value),age:Number($.querySelector("#age").value),activity:F.querySelector("[data-active]").dataset.activity},t=((e,t,r,o,a)=>{if(!(e&&t&&r&&o&&U[a]))return!1;let n;return"male"===e?n=88.36+13.4*t+4.8*r-5.7*o:"female"===e&&(n=447.6+9.2*t+3.1*r-4.3*o),Math.round(n*U[a])})(e.gender,e.weight,e.height,e.age,e.activity);t&&isFinite(t)?Y.textContent=t:Y.textContent="_____"},X=e=>{const t=I.querySelector("#"+e),r=t.closest(".calculating__choose");var o;r.querySelectorAll(".calculating__choose-item").forEach(e=>{(e=>{e.classList.remove("calculating__choose-item_active"),e.removeAttribute("data-active")})(e)}),(o=t).classList.add("calculating__choose-item_active"),o.setAttribute("data-active",""),localStorage.setItem(r.id,e)};P.addEventListener("click",e=>{const t=e.target.closest(".calculating__choose-item");t&&(X(t.id),J())}),$.addEventListener("input",e=>{const t=e.target.closest(".calculating__choose-item");var r;t&&((r=t).value.match(/\D/g)?(e=>{e.classList.add("calculating__choose-item_error")})(r):(e=>{e.classList.remove("calculating__choose-item_error")})(r),J())}),F.addEventListener("click",e=>{const t=e.target.closest(".calculating__choose-item");t&&(X(t.id),J())}),localStorage.getItem("gender")&&X(localStorage.getItem("gender")),localStorage.getItem("activity")&&X(localStorage.getItem("activity")),J()}),e.exports=function(){this.hello=function(){console.log("hello")},this.bye=function(){console.log("bye")}}}]);